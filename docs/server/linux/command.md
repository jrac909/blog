[[toc]]

> 原文档链接: https://juejin.cn/post/6844903930166509581

## 基础
### 命令参数前加 -、-- 和不加 - 的区别
- - 可以理解为命令的缩写, -- 表示命令全称, 比如 -h 等同于 --help
- 是否加 -, 执行命令的结果是相同的, 区别主要涉及 Linux 风格
    - 不加 -, 属于 System V 风格
    - 加 - 属于 BSD 风格

## 文件目录操作
### ls [参数][目录名]
查看目录下所有文件/文件夹及其权限、目录信息等。

#### 参数
- -l : 列出文件属性和权限数据
- -a : 列出全部文件，包括隐藏文件(以 . 开头的文件)
- -h : 将文件属性中的文件大小带单位显示出来，比如 K <font color=red>(注意：既然要看文件属性，肯定得和 -l 命令一起使用)</font>
- -R : 连同子目录的内容一起列出(递归列出), 等于该目录下的所有文件都会显示出来。<font color=red>(注意：也会列出属于那一层目录)</font>

#### 实例
1. 最简单的使用，列出当前目录下的文件/文件夹信息。只会显示文件/文件夹名字。
```
ls
```

2. 列出指定目录下的文件/文件夹信息。<font color=red>注意：区分相对路径和绝对路径。</font>
``` js
ls /home // / 表示从根目录开始
ls ../apps // 这里是相对路径
```

3. 带参数执行
``` js
ls -l // 单个参数
ls -l -h // 多个参数
ls -lh // 多个参数简写
```

4. 目录名模糊匹配
``` js
ls -l d* // 列出当前目录下所有以 "d" 开头的文件目录详细内容
```

### cd [目录名]
最基本的命令语句, 用于切换当前目录至目标目录。

#### 实例
``` js
cd / // 进入系统根目录
cd /home/code // 进入根目录下的 home/code 目录
cd ../apps // 进入当前目录的相对路径
```

### pwd [参数]
查看当前工作目录的完整路径

#### 参数
- -P : 显示实际物理路径, 而非使用连接(link)路径
- -L ： 当目录为连接路径时, 显示连接路径

### mkdir [参数] 目录名
用来创建指定名称的目录, 要求创建目录的用户在当前目录中具有写权限, 并且指定的目录名不能是当前目录中已存在的目录。

#### 参数
- -m : 创建指定权限的目录

#### 实例
1. 创建一个空目录
```js
mkdir deploy
```

2. 递归创建多个目录
``` js
mkdir deploy/codes
```

3. 创建权限为 777 的目录
``` js
mkdir -m 777 deploy
```

### rm [参数] 文件名/目录名
删除一个目录中的一个或多个文件或目录, 如果没有使用 -r 选项, 则 rm 不会删除目录。如果使用 rm 来删除文件, 通常仍可以将该文件恢复原状。

#### 参数
- -f, --force : 忽略不存在的文件, 从不给出提示
- -i, --interactive : 进行交互式删除
- -r, -R, 0recursive : 指示 rm 将参数中列出的全部目录和子目录均递归地删除

#### 实例
1. 删除文件，系统提示是否删除。
``` js
rm config.js
```

2. 强制删除文件, 系统不再提示
``` js
rm -f config.js
```

3. 删除 codes 目录及目录下的文件
``` js
rm -r codes
```

### rm [参数] 目录
从一个目录中删除一个或多个子目录项, 删除某目录时必须具有对父目录的写权限。

#### 参数
- -p : 递归删除目录, 当子目录删除后其父目录为空时, 也一同被删除。如果整个路径被删除或者由于某种原因保留部分路径，则系统显示相应信息。
- -v : 显示指令执行过程

#### 实例
1. 删除空目录 test1, 非空目录无法删除。
``` js
rmdir test1
```

2. 当子目录被删除后使它成为空目录的话, 则顺便一并删除
``` js
rmdir -p test2 // test 目录下仅有 test2
```

### mv [参数] 源文件或目录 目标文件或目录
用来移动文件或者将文件改名 (move(rename) files)：
1. 当第二个参数类型是文件时, mv 命令完成文件重命名。 
2. 当第二个参数是已存在的目录名称时, 源文件或目录可以有多个, mv 命令将各参数指定的源文件均移至目标目录中。

#### 参数
- -b : 若需要覆盖文件, 则覆盖前先进行备份
- -f : force 强制的意思, 如果目标文件已经存在, 不会询问而直接覆盖
- -i : 若目标文件已经存在, 会先询问是否覆盖

#### 实例
1. 将 test1.txt 重命名为 test2.txt
``` js
mv test1.txt test2.txt
```

2. 移动文件 test1.txt 到目录 test2
``` js
mv test1.txt test2
```

3. 将文件 test1.txt、test2.txt、test3.txt 移动到目录 test3
``` js
mv test1.txt test2.txt test3.txt test
```

### cp [参数] 源文件 目录      或      cp [参数] -t 目录 源文件
将源文件复制至目标文件, 或将多个源文件复制至目标目录。

#### 参数
- -t : 简单点说, 就是目标目录写在前面, 就是第二种写法
- -i : 覆盖前先询问 (使前面的 -n 失效)
- -n : 不要覆盖已存在的文件 (使前面的 -i 失效) <font color=red>注意：所以 -i -n 就是写在后面的优先级更高。</font>
- -f : 强行复制文件或目录, 不论目的文件或目录是否已经存在
- -u : 如果目标目录不存在源文件, 直接复制; 如果目标目录存在源文件, 判断源文件更新时间是否大于目的目录下的同名文件, 如果更新, 则覆盖, 否则, 不进行覆盖。

#### 实例
1. 复制文件 test1.txt 到 test1 目录
``` js
cp test1.txt test1 // 覆盖前会先进行提示
```

2. 复制 test1 整个目录到 test2
``` js
cp -a test1 test2
```

### touch [参数] 文件
用于创建文件, 更改文档或目录日期时间, 包括存取时间和更改时间。

#### 参数
- -a : 只存取时间
- -c : 不建立任何文档
- -d : 使用指定的日期时间, 而非现在的时间进行创建
- -f : 此参数将忽略不予处理, 仅负责结局 BSD 版本 touch 指令的兼容性问题
- -m : 只更改变动时间
- -r : 把指定文档或目录的日期时间, 通通设置成和参考文档或目录的日期时间相同

#### 实例
1. 创建不存在的文件 test.txt
``` js
touch test.txt
```

2. 更新 test.txt 的时间和 test1.txt 时间戳相同
``` js
touch -r test.txt test1.txt
```

### cat [参数] [文件]
用来显示文件内容, 或者将几个文件连接起来显示, 或者从标准读取内容并显示, 它常与重定向符号配合使用。

#### 参数
- -b : 对非空输出行编号
- -E : 在每行结束处显示 $
- -n : 对输出的所有行编号, 由 1 开始对所有输出的行数编号
- -s : 有连续两行以上的空白行, 就替换为一行的空白行

#### 实例
1. 把 test.log 的文件内容加上行号后输入到test1.log 这个文件里
``` js
cat -n test.log test1.log
```

2. 将 test.log 的文件内容反向显示
``` js
tac test.log
```

### more
more 命令和 cat 的功能一样都是查看文件里的内容, 但有所不同的是 more 可以按页来查看文件的内容, 还支持直接跳转行等功能。

#### 参数
- +n : 从第 n 行开始显示
- -n : 定义屏幕大小为 n 行
- +/pattern : 在每个档案显示前搜寻该字符串 (pattern), 然后从该字符串前两行之后开始显示
- -c : 从顶部清屏, 然后显示 (这个感觉还比较好用)
- -p : 通过清除窗口不是滚屏来对文件进行换页
- -s : 把连续的多个空行显示为一行
- -u : 把文件内容中的下划线去掉

#### 指令
- Enter : 向下 n 行, 需要定义, 默认为 1 行
- Ctrl + F : 向下滚动一屏
- 空格键 : 向下滚动一屏
- Ctrl + B : 返回上一屏
- = : 输出当前行号
- V : 调用 vi 编辑器
- !命令 : 调用 shell, 并执行命令
- q : 退出 more

#### 实例
1. 显示文件 test.log 第三行起内容
``` js
more +3 test.log
```

2. 从文件 test.log 查找第一个出现 "day3" 字符串的行, 并从该处前 2 行开始显示输出
``` js
more +/day3 test.log
```

3. 设置每屏显示行数
``` js
more -5 test.log
```

### less [参数] 文件
less 与 more 类似, 但使用 less 可以随意浏览文件, 而 more 仅能向前移动, 却不能向后移动, 而且 less 在查看之前不会加载整个文件

#### 实例
1. 查看文件 test.log
``` js
less test.log
```

### head [参数] [文件]
head 用来显示档案的开头至标准输出中, 默认 head 命令打印其相应文件的开头 10 行。

#### 参数
- -q : 隐藏文件名
- -v : 显示文件名
- -c<字节> : 显示字节数
- -n<行数> : 显示的行数

#### 实例
1. 显示文件的前 5 行
``` js
head -n 5 test.log
```
2. 显示文件 test.log 前 20 个字节
``` js
head -c 20 test.log
```

## 文件查找
### which 可执行文件名称
which 指令会在 PATH 变量指定的路径中, 搜索某个系统命令的位置, 并且返回第一个搜索的结果

#### 实例
1. 查找文件, 显示命令路径
``` js
which pwd
```

### whereis [-bmsu][MS 目录名 -f] 文件名
whereis 命令是定义可执行文件、源代码文件、帮助文件在文件系统中的位置

#### 参数
- -b : 定位可执行文件, 即只查找可执行文件
- -m : 定位帮助文件
- -s : 定位源代码文件

#### 实例
1. 将和 svn 相关的文件都查找出来
``` js
whereis svn
```

2. 只将二进制文件查找出来
``` js
whereis -b svn
```

## 文件打包上传和下载
### tar [必要参数] [选择参数] [文件]
用来压缩和解压文件。tar 本身不具有压缩功能, 它是调用压缩功能实现的。

#### 必要参数
- -c : 建立新的压缩文件
- -x : 从压缩文件中提取内容
- -v : 显示操作过程
- -z : 支持 gzip 解压文件
- -j : 支持 bzip2 解压文件

#### 可选参数
- -f : 指定压缩文件

#### 实例
1. 将文件全部打包成 tar 包
``` js
tar -cvf test.tar test.log # 仅打包, 不压缩
tar -zcvf test.gz test.log # 打包后, 以 gzip 压缩
tar -jcvf test.bz2 test.log # 打包后, 以 bzip2 压缩
```

2. 将 tar 包解压缩
``` js
tar -zxvf test.tar.gz
```

### gzip [参数] [文件或目录]
使用广泛的压缩程序, 文件经它压缩过后, 其名称后面会多出 .gz 的扩展名

#### 实例
1. 将目录下每个文件压缩成 .gz 文件
``` js
gzip *
```

## 文件权限设置
### chmod [-cfvR] [--help] [--version] mode file
用于改变 linux 系统文件或目录的访问权限

#### 参数
- <权限范围> + <权限设置> : 使权限范围内的目录或文件具有相同的权限
- <权限范围> - <权限设置> : 删除权限范围的目录或文件的指定权限
- <权限范围> = <权限设置> : 设置权限范围内的目录或文件的权限为指定的值

#### 权限范围
- u : 目录或文件的当前的用户
- g : 目录或文件的当前的群组
- o : 除了目录或文件的当前用户或群组之外的用户或群组
- a : 所有的用户及群组

#### 权限代号
- r : 读权限, 数字 4
- w : 写权限, 数字 2
- x : 执行权限, 数字 1
- - : 删除权限, 数字 0

#### 注意
- 权限代号的数字可以相加, 比如 7=rwx 6=rw 5=rx 3=wx