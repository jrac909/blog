(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{457:function(t,s,a){"use strict";a.r(s);var n=a(62),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"app-use-path-function"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-use-path-function"}},[t._v("#")]),t._v(" app.use([path], function)")]),t._v(" "),a("p",[a("strong",[t._v("express æ˜¯ä¸€ä¸ªè·¯ç”±å’Œä¸­é—´ä»¶ Web æ¡†æ¶")]),t._v("ï¼Œè¿™ä¸ªæ¡†æ¶è‡ªèº«çš„åŠŸèƒ½å¾ˆå°‘ï¼Œå®ƒä¸»è¦æ˜¯ç”¨æ¥è°ƒç”¨ä¸€ç³»åˆ—ä¸­é—´ä»¶å‡½æ•°ï¼Œä¸­é—´ä»¶å‡½æ•°åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ")]),t._v(" "),a("p",[a("strong",[t._v("ä¸­é—´ä»¶å‡½æ•°")]),t._v("ç›´æ¥ä»ä»£ç æ¥ç†è§£ï¼Œå®ƒè¢« express æ‰§è¡Œï¼Œå…¶å®å°±æ˜¯ä½œä¸ºå‚æ•°ä¼ é€’ç»™ app.use å‡½æ•°ï¼Œå¹¶ä¸”è¿™ä¸ªä¸­é—´ä»¶å‡½æ•°å‚æ•°æœ‰"),a("code",[t._v("(req, res, next) => {}")]),t._v(",ç”±æ­¤å¯çŸ¥ï¼Œè¿™ä¸ªä¸­é—´ä»¶å‡½æ•°æ˜¯å¯ä»¥è®¿é—®è¯·æ±‚å¯¹è±¡(req)ã€å“åº”å¯¹è±¡(res)ä»¥åŠä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°(next)çš„ã€‚å¬æè¿°æœ‰ç‚¹åƒæ‹¦æˆªå™¨ã€‚å®ƒæœ‰ä»¥ä¸‹é‡è¦ç‰¹æ€§ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æ›´æ”¹è¯·æ±‚å’Œå“åº”å¯¹è±¡(æ¯”å¦‚ res.setHeaderç­‰ç­‰)")]),t._v(" "),a("li",[t._v("ç»“æŸè¯·æ±‚å“åº”å‘¨æœŸ(res.end())")]),t._v(" "),a("li",[t._v("è°ƒç”¨å †æ ˆä¸­çš„ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°(next())")])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[t._v("å…³äº "),a("code",[t._v("ç»“æŸè¯·æ±‚å“åº”å‘¨æœŸ(res.end())")]),t._v("ï¼Œå¦‚æœæ­¤æ—¶è¿›æ¥ä¸€ä¸ªè¯·æ±‚ï¼ŒæŸä¸ªä¸­é—´ä»¶å‡½æ•°åŒ¹é…äº†è¿™ä¸ªè¯·æ±‚ï¼Œæ‰§è¡Œè¿™ä¸ªä¸­é—´å‡½æ•°ï¼Œåœ¨è¿™ä¸ªä¸­é—´å‡½æ•°çš„ç»“æŸå¯ä»¥åšä¸¤ç§å¤„ç†ï¼š1. ä½¿ç”¨ res.end() ç»“æŸå½“å‰è¯·æ±‚ï¼Œè¿™æ ·çš„è¯ï¼Œå…¶ä»–åŒ¹é…è¯¥è¯·æ±‚çš„ä¸­é—´å‡½æ•°å°±ä¸ä¼šå†æ‰§è¡Œï¼›2. è°ƒç”¨ next() æŠŠè¯·æ±‚çš„æ§åˆ¶æƒé™äº¤ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°ã€‚é™¤äº†è¿™ä¸¤ç§å¤„ç†ï¼Œè¯·æ±‚éƒ½å°†è¢«æŒ‚èµ·ã€‚")])]),t._v(" "),a("p",[a("strong",[t._v("ä¸­é—´ä»¶ç±»å‹")])]),t._v(" "),a("ul",[a("li",[t._v("åº”ç”¨çº§ä¸­é—´ä»¶")]),t._v(" "),a("li",[t._v("è·¯ç”±çº§ä¸­é—´ä»¶")]),t._v(" "),a("li",[t._v("é”™è¯¯å¤„ç†ä¸­é—´ä»¶")]),t._v(" "),a("li",[t._v("å†…ç½®ä¸­é—´ä»¶")]),t._v(" "),a("li",[t._v("ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶")])]),t._v(" "),a("h3",{attrs:{id:"åº”ç”¨çº§ä¸­é—´ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åº”ç”¨çº§ä¸­é—´ä»¶"}},[t._v("#")]),t._v(" åº”ç”¨çº§ä¸­é—´ä»¶")]),t._v(" "),a("p",[t._v("ä¸è®¾ç½® pathï¼Œæ¯æ¬¡åº”ç”¨è¯·æ±‚æ—¶éƒ½ä¼šæ‰§è¡Œè¯¥å‡½æ•°ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" express "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("è®¾ç½® pathï¼Œä¸æŒ‡å®š methodï¼Œæ¯æ¬¡åº”ç”¨è¯·æ±‚è¯¥ path éƒ½ä¼šæ‰§è¡Œè¯¥å‡½æ•°ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user/:id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("è®¾ç½® path å’Œ methodï¼Œåªæœ‰è¯·æ±‚æ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶æ‰æ‰§è¡Œè¯¥å‡½æ•°ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user/:id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'USER'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("strong",[t._v("é’ˆå¯¹æŸä¸€ä¸ªè·¯ç”±ï¼Œä¹Ÿå°±æ˜¯æŸä¸€ä¸ª pathï¼Œå¯ä»¥æœ‰å¤šä¸ªä¸­é—´ä»¶å‡½æ•°ï¼Œå½¢æˆä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°é˜Ÿåˆ—ï¼Œè¿™äº›ä¸­é—´ä»¶å‡½æ•°éµå¾ªä»¥ä¸‹è§„åˆ™")])]),t._v(" "),a("ul",[a("li",[t._v("å¿…é¡»æ‰§è¡Œ next() æ‰èƒ½å°†æ§åˆ¶æƒäº¤ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°ï¼Œå¦åˆ™ä¸ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°")]),t._v(" "),a("li",[t._v("ä¸­é—´ä»¶å‡½æ•°é˜Ÿåˆ—ä¸­æ‰€æœ‰å‡½æ•°ï¼Œåªèƒ½æ‰§è¡Œä¸€æ¬¡ res.send(); å¹¶ä¸”å† res.send() åå°±ä¸èƒ½æ‰§è¡Œnext() äº†,æ€»ä¹‹éœ€è¦è®°ä½,å› ä¸ºæ‰€æœ‰çš„ä¸­é—´ä»¶å‡½æ•°éƒ½èƒ½æ“ä½œ reqã€resï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ä¿è¯ res.send() æ˜¯å¯¹ reqã€res çš„æœ€åæ“ä½œï¼Œæ‰€ä»¥ next() ä¸å…è®¸åœ¨ res.send() åé¢ã€‚")]),t._v(" "),a("li",[t._v("å¤šä¸ªä¸­é—´ä»¶å‡½æ•°å¯ä»¥å†™åšå¤šä¸ª app.useï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå¤šä¸ªå‚æ•°ä¼ é€’ç»™ä¸€ä¸ª app.use")])]),t._v(" "),a("p",[a("strong",[t._v("ğŸ’¥ Case 1")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¿é—® /user/333, è¾“å‡ºæ˜¯ Req URL: /user/333 Req Type: GET Req URL2: /user/333")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user/:id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("Req URL: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originalUrl "),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("Req URL2: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originalUrl "),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("Req URL: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originalUrl "),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("Req Type: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("method "),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("ğŸ’¥ Case 2")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰§è¡Œç»“æœç›¸åŒ")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user/:id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("Req URL: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originalUrl "),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("Req URL2: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originalUrl "),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("Req URL: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originalUrl "),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user/:id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("Req Type: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("method "),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"è·¯ç”±å™¨ä¸­é—´ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·¯ç”±å™¨ä¸­é—´ä»¶"}},[t._v("#")]),t._v(" è·¯ç”±å™¨ä¸­é—´ä»¶")]),t._v(" "),a("p",[t._v("å’Œåº”ç”¨çº§çš„å·¥ä½œæ–¹å¼åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯è¯´åˆ›å»ºæ–¹å¼ä¸åŒï¼Œå¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" router "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" express"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Router")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("åŒæ ·ä½¿ç”¨ router.use å’Œ router.Method æ–¹æ³•")]),t._v(" "),a("h3",{attrs:{id:"é”™è¯¯å¤„ç†ä¸­é—´ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é”™è¯¯å¤„ç†ä¸­é—´ä»¶"}},[t._v("#")]),t._v(" é”™è¯¯å¤„ç†ä¸­é—´ä»¶")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[t._v("é”™è¯¯ä¸­é—´ä»¶å‡½æ•°æœ‰å››ä¸ªå‚æ•°"),a("code",[t._v("(err, req, res, next) => {}")]),t._v("ï¼Œå¹¶ä¸”æ¡†æ¶æ˜¯é€šè¿‡å‚æ•°ä¸ªæ•°æ¥åˆ¤æ–­æ˜¯å¦æ˜¯é”™è¯¯ä¸­é—´ä»¶çš„ï¼Œæ‰€ä»¥å³ä½¿ä¸ç”¨ next å‚æ•°, ä¹Ÿå¿…é¡»è¦å†™å‡ºæ¥ã€‚")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"å†…ç½®ä¸­é—´ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†…ç½®ä¸­é—´ä»¶"}},[t._v("#")]),t._v(" å†…ç½®ä¸­é—´ä»¶")]),t._v(" "),a("p",[t._v("express ä¸­å”¯ä¸€å†…ç½®çš„ä¸­é—´ä»¶å‡½æ•°æ˜¯ express.staticï¼Œè´Ÿè´£æä¾› express åº”ç”¨ç¨‹åºçš„é™æ€èµ„æºã€‚è¯¦ç»†ä½¿ç”¨è§å·¦ä¾§ç›®å½• "),a("code",[t._v("express.static(root, [options])")])]),t._v(" "),a("h3",{attrs:{id:"ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶"}},[t._v("#")]),t._v(" ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶")]),t._v(" "),a("p",[t._v("è¿™ä¸ªå°±ç›´æ¥å®‰è£…ã€å¼•å…¥ã€ä½¿ç”¨å°±å¥½äº†ã€‚æ¯”å¦‚ï¼š"),a("code",[t._v("serve-favicon")]),t._v("ï¼ŒåŠŸèƒ½æ¯”è¾ƒå•ä¸€ç®€å•ï¼Œå¯ä»¥çœ‹çœ‹æºç ï¼Œå…¶å®æœ¬è´¨å°±æ˜¯è¿”å›äº†ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°ã€‚")]),t._v(" "),a("h2",{attrs:{id:"express-static-root-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#express-static-root-options"}},[t._v("#")]),t._v(" express.static(root, [options])")]),t._v(" "),a("p",[a("strong",[t._v("æœ€ç®€å•çš„ä½¿ç”¨")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("express"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("static")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("æ ¹æ®ä¸Šè¿°ä½¿ç”¨æ–¹å¼ï¼Œæ¥è®²ä¸€è®²å®ƒçš„ä½œç”¨")])]),t._v(" "),a("p",[t._v("é¦–å…ˆï¼Œæˆ‘ä»¬çŸ¥é“ app.use çš„å‚æ•°æ˜¯ä¸­é—´ä»¶å‡½æ•°ï¼Œä¸­é—´ä»¶å‡½æ•°çš„ä½œç”¨æ˜¯æ‹¦æˆª path, æ“ä½œ req, res ç­‰ï¼Œè¿™é‡Œä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬ä¼ å…¥ä¸€ä¸ª root, ä¹Ÿå°±æ˜¯ä¸€ä¸ªæ ¹è·¯å¾„ä¸‹çš„æ–‡ä»¶å¤¹åå­—ï¼Œæ¯”å¦‚æœ‰é¡¹ç›® demoï¼Œdemo ä¸‹æœ‰æ–‡ä»¶å¤¹ publicï¼Œå…¶ä¸­å­˜æ”¾äº†å›¾ç‰‡ã€js æ–‡ä»¶ï¼Œè¿™æ—¶å€™æˆ‘ä»¬è¦è¯·æ±‚å…¶ä¸­çš„ a.png, æˆ‘ä»¬éœ€è¦å†™ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°ï¼Œæ‹¦æˆª public/a.pngï¼Œæˆ–è€…åšåŒ¹é…ï¼Œç„¶åé€šè¿‡ res è¿”å›ç›¸åº”çš„èµ„æºï¼Œè¿™æ ·å¤„ç†å¾ˆéº»çƒ¦ä½†æ˜¯åˆå¾ˆå›ºå®šï¼Œæ‰€ä»¥å°±å†…ç½®äº†è¿™ä¸ªä¸­é—´ä»¶å‡½æ•°ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("options")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("å±æ€§")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("æè¿°")]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v("ç±»å‹")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("é»˜è®¤å€¼")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("acceptRanges")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("æ˜¯å¦å¯ç”¨ Accept-Ranges å’Œ Range è¯·æ±‚å¤´")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("boolean")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("true")])]),t._v(" "),a("tr",[a("td",[t._v("cacheControl")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("æ˜¯å¦å¯ç”¨ Cache-Control")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("boolean")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("true")])]),t._v(" "),a("tr",[a("td",[t._v("dotfiles")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("é‡åˆ° . æ–‡ä»¶å¦‚ä½•å¤„ç†(ç›´æ¥ . å¼€å¤´çš„æ–‡ä»¶)")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("string")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("'ignore'")])]),t._v(" "),a("tr",[a("td",[t._v("etag")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Enable or disable etag generation")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("boolean")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("true")])]),t._v(" "),a("tr",[a("td",[t._v("extensions")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Set file extension fallbacks. When set, if a file is not found, the given extensions will be added to the file name and search for. The first that exists will be served. Example: ['html', 'htm'].")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("boolean")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("false")])]),t._v(" "),a("tr",[a("td",[t._v("fallthrough")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("boolean")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("true")])])])]),t._v(" "),a("p",[a("strong",[t._v("dotfiles")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("å€¼")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("å¤„ç†æ–¹å¼")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("'allow'")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("No special treatment for dotfiles.")])]),t._v(" "),a("tr",[a("td",[t._v("'deny'")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Deny a request for a dotfile and 403/next().")])]),t._v(" "),a("tr",[a("td",[t._v("dotfiles")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Pretend like the dotfile does not exist and 404/next().")])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);